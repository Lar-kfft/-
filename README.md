Выполнила Лариса Романова
Задание 1. СУБД
1.1. Бюджетирование проектов с последующим формированием финансовых аналитических отчётов и прогнозированием рисков. СУБД должна обеспечивать целостность и чёткую структуру данных. Какие типы СУБД, на ваш взгляд, лучше всего подходят для решения этих задач и почему?

Ответ: Реляционная (SQL) СУБД (например, PostgreSQL, Oracle, Microsoft SQL Server). Почему: она обеспечивает ACID-транзакции для гарантированной целостности данных, имеет строгую предопределённую схему для чёткой структуры, мощный язык SQL для сложных аналитических запросов, агрегаций и оконных функций, необходимых для отчётности и прогнозирования, а также зрелые инструменты для бизнес-аналитики (BI).

1.1. Хеширование стало занимать много времени. Какой API можно использовать для ускорения работы?*

Ответ: Для ускорения операций хеширования можно использовать:

Специализированные облачные сервисы: AWS Key Management Service (KMS) или Google Cloud Key Management для аппаратно-оптимизированных криптографических операций.

API для GPU-вычислений: CUDA или OpenCL для реализации алгоритмов хеширования на графических процессорах, если задача связана с интенсивными вычислениями (например, поиск в больших данных).

Встроенные оптимизации СУБД: Использование индексированных хеш-полей или специализированных типов индексов (например, hash-index в PostgreSQL) для ускорения поиска.

1.2. Для каждого девелоперского проекта создаётся отдельный лендинг, а все данные о лидах поступают в CRM-систему к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и CRM-систем? СУБД должны быть гибкими и быстрыми.

Ответ:

Для лендингов: Документоориентированная NoSQL СУБД (например, MongoDB, CouchDB). Причина: гибкость схемы данных, что позволяет быстро адаптировать структуру контента каждого лендинга, и высокая скорость операций записи/чтения для обработки трафика.

Для CRM-системы: Реляционная (SQL) СУБД (например, PostgreSQL). Причина: необходимость целостности транзакций при работе с клиентами и сделками, сложные связи между сущностями (клиент, сделка, контакт, задача), а также богатые возможности для аналитики продаж.

1.2. Можно ли решить эту задачу с помощью одной СУБД? И если да, то какой именно СУБД и с какой реализацией?*

Ответ: Да, можно. Современные мультимодельные (multi-model) СУБД, такие как PostgreSQL, отлично подходят для этой задачи.
Реализация:

Для данных CRM использовать классические реляционные таблицы с жёсткой схемой.

Для данных лендингов (контент, метаданные, динамические формы) использовать тип данных JSONB. Это даёт NoSQL-гибкость внутри SQL-системы, позволяет хранить разнородные структуры и эффективно их индексировать и запрашивать.

Все данные находятся в одной системе, что упрощает интеграцию (например, автоматическая вставка лида из JSON-формы лендинга в таблицу leads CRM) и обеспечение целостности.

1.3. Отдел контроля качества решил создать базу корпоративных норм и правил, учебных материалов и т. д., сформированную в соответствии со структурой компании. СУБД должна иметь простую и понятную структуру.

Ответ: Для этой задачи хорошо подойдёт реляционная СУБД или графовая СУБД.

Реляционная СУБД (проще): Позволяет создать понятные таблицы (documents, departments, categories, tags) и связи между ними, что легко соответствует иерархии компании. Удобна для классификации и поиска по атрибутам.

Графовая СУБД (например, Neo4j): Ещё более наглядно представляет иерархические и сетевые связи (отдел -> подразделение -> документ -> связанный документ), что упрощает навигацию по сложной структуре знаний компании.

1.3. Можно ли использовать для решения этой задачи уже существующую СУБД из перечисленных выше, и если да, то как это лучше реализовать?*

Ответ: Да, оптимально использовать уже выбранную реляционную СУБД (например, PostgreSQL из пункта 1.1).
Реализация:

Создать отдельную схему (например, knowledge_base) в рамках основной базы данных для изоляции данных.

Спроектировать таблицы: documents (с полями для метаданных и ссылкой на файл в объектном хранилище), document_versions, departments, categories, tags, а также таблицы связей многие-ко-многим между ними.

Реализовать полнотекстовый поиск (встроенный в PostgreSQL) по содержимому документов.

Настроить ролевую модель доступа (RBAC) для разграничения прав по отделам.

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

Ответ: Графовая СУБД (например, Neo4j, Amazon Neptune). Она идеально подходит для задач, где ключевую роль играют связи (ребра) между объектами (узлами): точки доставки, дороги, курьеры, транспорт. Позволяет эффективно выполнять алгоритмы поиска кратчайшего пути, анализа связанности и оптимизации маршрутов.

1.4. Можно ли подключить к этой СУБД отдел закупок или для них лучше создать свою СУБД в связке с СУБД логистов?*

Ответ: Лучше создать отдельную, но связанную систему.

Для отдела закупок больше подходит реляционная СУБД для учёта заказов, поставщиков, договоров, счетов — задач с чёткими транзакциями и структурой.

Для логистики — графовая СУБД.

Интеграция должна происходить на уровне приложения/сервиса через API или с использованием шины данных (ESB). Ключевые данные (например, "заказ №X требуется доставить в точку Y к дате Z") синхронизируются из системы закупок в систему логистики. Это даёт каждой системе использовать оптимальную для её задач модель данных.

1.5. Можно ли решить все перечисленные выше задачи с помощью одной СУБД? Если да, то какой именно?*

Ответ: Теоретически да, используя современные мультимодельные (multi-model) СУБД, которые поддерживают несколько парадигм данных в одном ядре.
Конкретные кандидаты:

PostgreSQL: Основная модель — реляционная, но с мощными расширениями: JSONB для гибких данных (лендинги), расширения для графовых запросов, полнотекстовый поиск. Фактически стандарт для таких комплексных задач.

ArangoDB: Нативная multi-model СУБД, поддерживающая документы, графы и ключ-значение из коробки. Хорошо подходит для гибких и связанных данных.

Microsoft Azure Cosmos DB: Облачная multi-model СУБД с поддержкой API для документов, графов (Gremlin), таблиц и др.

Однако на практике часто выбирают гибридный подход (2-3 специализированные СУБД) для достижения максимальной производительности в каждой предметной области, а интегрируют их через слой сервисов.

Задание 2. Транзакции
2.1. Пользователь пополняет баланс телефона. Опишите пошагово, какие действия необходимо выполнить, чтобы транзакция прошла успешно. Ориентируйтесь на шесть действий.

Ответ:

Начало транзакции (BEGIN): СУБД фиксирует точку начала и блокирует необходимые данные для обеспечения изоляции.

Проверка данных и списание средств: Приложение проверяет реквизиты пользователя и списывает сумму пополнения с его баланса (UPDATE accounts SET balance = balance - 100 WHERE user_id = 123).

Запрос к внешнему API: Приложение отправляет запрос на пополнение к API платежного шлюза или оператора связи.

Обработка ответа от API: Получение и анализ ответа (успех/неудача). В случае успеха — фиксация факта платежа в базе (INSERT INTO phone_payments ...).

Фиксация транзакции (COMMIT): Если все предыдущие шаги успешны, СУБД permanently применяет все изменения (списание, запись о платеже) в базе данных. Баланс обновлён, платеж сохранён.

Уведомление пользователя: Отправка чека или подтверждения об успешной операции (это действие происходит уже после коммита транзакции).

2.1. Какие действия необходимо выполнить, если пополнение баланса телефона происходит через автоплатеж?*

Ответ:

Запуск по расписанию: Планировщик задач (cron, Celery) запускает процесс автоплатежа в заданное время.

Проверка условий: Проверка наличия достаточных средств на счёте пользователя, активности услуги "автоплатеж", отсутствия блокировок.

Автоматическая авторизация: Использование заранее привязанного и сохранённого (в зашифрованном виде) токена или платёжного средства для проведения списания без участия пользователя.

Выполнение транзакции: Выполнение шагов 2-5 из обычного пополнения, но в полностью автоматическом режиме.

Обработка исключений: Обязательная обработка сбоев (недостаточно средств, ошибка API оператора). В случае ошибки — откат транзакции (ROLLBACK) и запись в лог для последующего анализа.

Отчётность и уведомление: Отправка пользователю уведомления (email, push) о результате автоплатежа. Формирование сводного отчёта по всем выполненным автоплатежам.

Задание 3. Сравнение SQL и NoSQL
3.1. Назовите пять преимуществ SQL-систем по сравнению с NoSQL.

Ответ:

Гарантированная целостность данных (ACID): Транзакции либо выполняются полностью, либо откатываются, что критично для финансовых, банковских операций.

Строгая и единая схема данных: Чёткая структура таблиц, типов данных и связей, что предотвращает появление "мусорных" данных и облегчает разработку сложных запросов.

Мощный и стандартизированный язык запросов (SQL): Позволяет выполнять очень сложные выборки с соединениями, подзапросами, агрегациями и оконными функциями.

Ссылочная целостность (Foreign Keys): Встроенный механизм поддержания корректности связей между таблицами (нельзя удалить запись, на которую есть ссылки).

Зрелость экосистемы: Богатый набор инструментов для администрирования, мониторинга, ORM, BI-отчетности и миграции схемы.

*3.1. Какие, по вашему мнению, преимущества у NewSQL-систем перед SQL и NoSQL.**

Ответ: NewSQL-системы (CockroachDB, YugabyteDB, Google Spanner) пытаются совместить лучшие черты:

Горизонтальная масштабируемость NoSQL + ACID SQL: Способны масштабироваться на сотни узлов в кластере, сохраняя при этом полную поддержку распределённых ACID-транзакций.

Высокая доступность и отказоустойчивость: Распределённая архитектура позволяет переживать отказы узлов и дата-центров без потери данных и с минимальным простоем.

SQL-совместимость: Поддерживают знакомый синтаксис SQL (или его большую часть), что снижает порог входа для разработчиков и позволяет использовать существующие инструменты.

Устранение "боли" ручного шардинга: Автоматически распределяют данные и нагрузку по кластеру, избавляя разработчика от сложного ручного партиционирования данных.

Глобальное распределение: Некоторые системы позволяют размещать данные в разных регионах мира с низкой задержкой чтения и запси для локальных пользователей, обеспечивая глобальную согласованность.

Задание 4. Кластеры
Необходимо выполнить большое количество вычислений при работе с огромным массивом данных, для этой задачи выделено 1000 машин. По какому критерию вы будете выбирать тип СУБД и какая модель распределённых вычислений подойдёт лучше всего и почему?

Ответ:

Ключевые критерии выбора:

Характер задачи: OLAP (аналитическая обработка) vs OLTP (транзакционная обработка). Для вычислений над "огромным массивом данных" — это явно OLAP.

Тип запросов: Сканирование и агрегация больших объёмов данных, сложные аналитические функции.

Требования к задержке: Пакетная обработка (batch) или интерактивные запросы.

Структура данных: Табличные/схемные или нерегулярные.

Лучшая модель распределённых вычислений: MPP (Massively Parallel Processing)
Эта архитектура идеально подходит для кластера в 1000 машин. Данные разделяются (шардируются) между всеми узлами. При выполнении запроса он разбивается на подзадачи, которые выполняются параллельно на всех узлах над их локальной порцией данных. Результаты затем агрегируются. Это обеспечивает почти линейный прирост производительности с добавлением новых узлов.

Конкретные типы СУБД/платформ:

Колоночные СУБД (наиболее вероятный выбор): Например, ClickHouse, Apache Druid, Vertica. Они хранят данные по столбцам, а не по строкам, что радикально ускоряет агрегации и аналитические запросы, сокращая объём чтения с диска. Имеют встроенную поддержку MPP-архитектуры.

Системы на основе Hadoop/Spark: Например, Apache Hive или Spark SQL поверх хранилища (HDFS, S3). Универсальное решение для самых разнообразных ETL- и аналитических задач. Spark предоставляет модель распределённых вычислений в памяти (RDD, DataFrames).

Облачные managed-сервисы: Google BigQuery, Amazon Redshift, Snowflake. Они абстрагируют управление инфраструктурой и автоматически масштабируют вычислительные ресурсы под конкретный запрос.

Итоговый выбор: Для задачи интенсивных вычислений над огромными данными на кластере из 1000 машин оптимальна колоночная MPP-СУБД (например, ClickHouse для интерактивных запросов или Spark для гибкой ETL-обработки). Критерий — максимальная пропускная способность при аналитических запросах.

